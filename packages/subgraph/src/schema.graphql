type Account @entity {
  id: Bytes!
  asERC721: ERC721Contract
  Profile: [Profile!]! @derivedFrom(field: "owner")
}

type ERC721Contract @entity(immutable: true) {
  id: Bytes!
  asAccount: Account!
  supportsMetadata: Boolean
  name: String
  symbol: String
  profiles: [Profile!]! @derivedFrom(field: "contract")
  # operators: [ERC721Operator!]! @derivedFrom(field: "contract")
  # transfers: [ERC721Transfer!]! @derivedFrom(field: "contract")
}

type Profile @entity {
  id: ID!
  contract: ERC721Contract!
  identifier: BigInt!
  owner: Account!
  uri: String!
  createdAt: BigInt!

  # IPFS data
  position: String!
  category: String!
  country: String
  experience: BigInt!
  english: String!
  employmentTypes: [String!]!
  skills: [String!]
  details: String
}

type Proposal @entity {
  id: ID!
  contract: ERC721Contract!
  identifier: BigInt!
  owner: Account!
  uri: String!
  createdAt: BigInt!
  sender: Account!

  #IPFS data
  encryptedMessage: String!
}
